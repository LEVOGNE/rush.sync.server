<!DOCTYPE html>
<html lang="en"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>{{SUBDOMAIN}}.{{DOMAIN}} — Rush Sync Server Showroom</title>
<link rel="icon" href="/.rss/favicon.svg" type="image/svg+xml">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--purple:#6c63ff;--cyan:#22d3ee;--pink:#f472b6;--dark:#0a0a0f;--card:#111118;--border:#1a1a2e;--text:#e4e4ef;--muted:#8888a0;--dim:#555566}
[data-theme="light"]{--purple:#5b52e6;--cyan:#0891b2;--pink:#db2777;--dark:#f5f5fa;--card:#ffffff;--border:#d8d8e8;--text:#1a1a2e;--muted:#606078;--dim:#aaaabc}
[data-theme="light"] .orb{opacity:.03}
[data-theme="light"] .terminal{background:#fff;border-color:var(--border);box-shadow:0 8px 30px rgba(0,0,0,.08)}
[data-theme="light"] .term-bar{background:#f5f5fa;border-color:var(--border)}
[data-theme="light"] .term-body{background:#fff}
[data-theme="light"] .output{color:#606078}
[data-theme="light"] .success{color:#16a34a}
.theme-toggle{position:fixed;top:20px;right:20px;z-index:9999;width:42px;height:42px;border-radius:12px;border:1px solid var(--border);background:var(--card);color:var(--muted);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .25s;font-size:18px;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}
.theme-toggle:hover{border-color:var(--purple);color:var(--purple);transform:scale(1.05)}
html{scroll-behavior:smooth;overflow-x:hidden}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--dark);color:var(--text);line-height:1.6;overflow-x:hidden;width:100%;position:relative}

/* Floating orbs */
.orb{position:fixed;border-radius:50%;filter:blur(100px);opacity:.08;pointer-events:none;animation:drift 20s ease-in-out infinite}
.orb.a{background:var(--purple);width:400px;height:400px;top:-100px;right:10%;animation-delay:0s}
.orb.b{background:var(--cyan);width:350px;height:350px;bottom:-80px;left:5%;animation-delay:-7s}
.orb.c{background:var(--pink);width:300px;height:300px;top:50%;right:-80px;animation-delay:-14s}
@keyframes drift{0%,100%{transform:translate(0,0)}25%{transform:translate(40px,-30px)}50%{transform:translate(-30px,40px)}75%{transform:translate(30px,25px)}}

/* Sections */
section{position:relative;z-index:1;max-width:1000px;margin:0 auto;padding:0 24px}
.hero{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}
.fadeUp{animation:fadeUp .7s ease-out both}
@keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}

/* Logo */
.logo{font-size:clamp(36px,6vw,56px);font-weight:900;letter-spacing:-2px;margin-bottom:8px}
.logo .dot{color:var(--purple)}
.badge{display:inline-block;padding:4px 14px;background:rgba(108,99,255,.12);border:1px solid rgba(108,99,255,.25);border-radius:20px;font-size:12px;color:var(--purple);font-weight:600;letter-spacing:1px;text-transform:uppercase;margin-bottom:24px}
.hero-sub{color:var(--muted);font-size:clamp(16px,2.5vw,20px);max-width:600px;margin-bottom:12px}
.hero-note{font-size:14px;color:var(--dim);margin-bottom:40px}
.hero-note code{font-family:'SF Mono','Fira Code',monospace;background:rgba(108,99,255,.1);color:var(--purple);padding:2px 8px;border-radius:5px;font-size:13px}

/* Terminal */
.terminal{width:100%;max-width:620px;background:#0d0d14;border:1px solid var(--border);border-radius:14px;overflow:hidden;margin:0 auto 60px;text-align:left;box-shadow:0 20px 60px rgba(0,0,0,.4)}
.term-bar{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#111118;border-bottom:1px solid var(--border)}
.term-dot{width:12px;height:12px;border-radius:50%}
.term-dot.r{background:#ff5f57}.term-dot.y{background:#febc2e}.term-dot.g{background:#28c840}
.term-title{flex:1;text-align:center;font-size:12px;color:var(--dim);font-weight:500}
.term-body{padding:20px;font-family:'SF Mono','Fira Code','Cascadia Code',monospace;font-size:13px;line-height:1.8;min-height:220px}
.term-line{opacity:0;animation:typeLine .3s ease-out forwards}
.prompt{color:var(--purple)}
.cmd{color:var(--cyan)}
.output{color:var(--muted)}
.success{color:#28c840}
.term-cursor{display:inline-block;width:8px;height:16px;background:var(--purple);animation:blink 1s step-end infinite;vertical-align:text-bottom;margin-left:2px}
@keyframes blink{50%{opacity:0}}
@keyframes typeLine{from{opacity:0;transform:translateX(-8px)}to{opacity:1;transform:translateX(0)}}

/* Section headers */
.section-title{text-align:center;padding:80px 0 48px}
.section-title h2{font-size:clamp(28px,4vw,40px);font-weight:800;letter-spacing:-1px;margin-bottom:12px}
.section-title h2 span{background:linear-gradient(135deg,var(--purple),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.section-title p{color:var(--muted);font-size:16px;max-width:500px;margin:0 auto}

/* Feature grid */
.features{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;padding-bottom:40px}
.feature{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:28px;transition:all .3s ease;position:relative;overflow:hidden}
.feature:hover{border-color:rgba(108,99,255,.35);transform:translateY(-4px);box-shadow:0 12px 40px rgba(108,99,255,.08)}
.feature::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--purple),var(--cyan));opacity:0;transition:opacity .3s}
.feature:hover::before{opacity:1}
.feature-icon{font-size:28px;margin-bottom:14px;display:block}
.feature h3{font-size:17px;font-weight:700;margin-bottom:8px}
.feature p{color:var(--muted);font-size:14px;line-height:1.6}

/* Stats */
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;padding-bottom:40px}
.stat{text-align:center;padding:32px 20px;background:var(--card);border:1px solid var(--border);border-radius:14px}
.stat-value{font-size:clamp(32px,5vw,48px);font-weight:900;background:linear-gradient(135deg,var(--purple),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1.2}
.stat-label{color:var(--muted);font-size:13px;margin-top:8px;text-transform:uppercase;letter-spacing:1px}

/* Architecture */
.arch{display:flex;align-items:center;justify-content:center;gap:0;padding:20px 0 60px;flex-wrap:wrap}
.arch-box{padding:16px 24px;border-radius:12px;text-align:center;min-width:140px}
.arch-client{background:rgba(34,211,238,.08);border:1px solid rgba(34,211,238,.2);color:var(--cyan)}
.arch-proxy{background:rgba(108,99,255,.08);border:1px solid rgba(108,99,255,.2);color:var(--purple)}
.arch-server{background:rgba(244,114,182,.08);border:1px solid rgba(244,114,182,.2);color:var(--pink)}
.arch-arrow{font-size:24px;color:var(--dim);padding:0 12px;animation:pulse 2s ease-in-out infinite}
@keyframes pulse{0%,100%{opacity:.4}50%{opacity:1}}
.arch-box .arch-title{font-weight:700;font-size:14px;margin-bottom:4px}
.arch-box .arch-desc{font-size:11px;opacity:.7}

/* Showroom panel - the subdomain request */
.showroom-panel{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:40px;text-align:center;margin:40px 0}
.showroom-panel .host{display:inline-block;font-family:'SF Mono','Fira Code',monospace;font-size:clamp(16px,3vw,22px);font-weight:700;background:rgba(108,99,255,.1);padding:8px 20px;border-radius:10px;color:var(--text);margin-bottom:16px}
.showroom-panel .status{display:inline-flex;align-items:center;gap:8px;padding:6px 16px;border-radius:20px;font-size:13px;font-weight:600}
.status-available{background:rgba(40,200,64,.1);border:1px solid rgba(40,200,64,.25);color:#28c840}
.status-dot{width:8px;height:8px;border-radius:50%;background:currentColor;animation:blink 1.5s ease-in-out infinite}
.showroom-panel p{color:var(--muted);font-size:14px;margin-top:16px;line-height:1.7}
.showroom-panel code{font-family:'SF Mono','Fira Code',monospace;background:rgba(108,99,255,.1);color:var(--purple);padding:2px 8px;border-radius:5px;font-size:13px}

/* Active routes */
.active-routes{padding:20px 0 40px}
.active-routes .lbl{font-size:12px;text-transform:uppercase;letter-spacing:2px;color:var(--purple);margin-bottom:16px;text-align:center}
.route-grid{display:flex;flex-wrap:wrap;justify-content:center;gap:12px}
.route-grid a{display:inline-flex;align-items:center;gap:8px;padding:14px 24px;background:rgba(108,99,255,.06);border:1px solid rgba(108,99,255,.18);border-radius:12px;color:var(--purple);text-decoration:none;font-weight:500;font-size:14px;transition:all .25s}
.route-grid a:hover{background:rgba(108,99,255,.15);border-color:rgba(108,99,255,.35);transform:translateY(-2px)}
.route-grid a .arrow{opacity:.4;transition:all .25s}
.route-grid a:hover .arrow{opacity:1;transform:translateX(4px)}
.no-routes{text-align:center;color:var(--dim);font-size:14px;padding:20px}

/* CTA */
.invest{text-align:center;padding:80px 24px;margin:40px 0;background:linear-gradient(135deg,rgba(108,99,255,.06),rgba(34,211,238,.04));border:1px solid var(--border);border-radius:20px}
.invest h2{font-size:clamp(24px,4vw,36px);font-weight:800;margin-bottom:12px}
.invest h2 span{background:linear-gradient(135deg,var(--purple),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.invest p{color:var(--muted);font-size:16px;max-width:500px;margin:0 auto 28px}
.invest-btns{display:flex;flex-wrap:wrap;justify-content:center;gap:14px}
.btn{display:inline-flex;align-items:center;gap:8px;padding:14px 28px;border-radius:12px;font-weight:600;font-size:14px;text-decoration:none;transition:all .25s}
.btn-primary{background:var(--purple);color:#fff}
.btn-primary:hover{background:#5b52e6;transform:translateY(-2px);box-shadow:0 8px 30px rgba(108,99,255,.3)}
.btn-outline{background:transparent;border:1px solid var(--border);color:var(--text)}
.btn-outline:hover{border-color:rgba(108,99,255,.4);transform:translateY(-2px)}

/* Footer */
.foot{text-align:center;padding:60px 24px 40px;color:var(--dim);font-size:13px}
.foot a{color:var(--muted);text-decoration:none;transition:color .2s}
.foot a:hover{color:var(--purple)}
.foot-links{display:flex;justify-content:center;gap:24px;margin-bottom:12px}

/* Quick start */
.quickstart{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:28px;margin:20px 0 40px;text-align:left}
.quickstart h3{font-size:16px;font-weight:700;margin-bottom:16px;color:var(--text)}
.qs-step{display:flex;gap:14px;margin-bottom:14px;align-items:flex-start}
.qs-num{min-width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:rgba(108,99,255,.12);color:var(--purple);border-radius:8px;font-size:13px;font-weight:700}
.qs-text{color:var(--muted);font-size:14px;line-height:1.6;padding-top:3px}
.qs-text code{font-family:'SF Mono','Fira Code',monospace;background:rgba(108,99,255,.1);color:var(--purple);padding:2px 8px;border-radius:5px;font-size:13px}

/* Responsive */
@media(max-width:768px){
  section{padding:0 16px}
  .arch{flex-direction:column;gap:8px}
  .arch-arrow{transform:rotate(90deg);padding:4px 0}
  .features{grid-template-columns:1fr}
  .stats{grid-template-columns:1fr 1fr}
  .hero{min-height:auto;padding:80px 0 40px}
  .terminal{max-width:100%}
  .term-body{font-size:11px;padding:14px;min-height:160px}
  .section-title{padding:50px 0 32px}
  .section-title h2{font-size:26px}
  .showroom-panel{padding:24px 16px}
  .showroom-panel .host{font-size:14px;padding:6px 14px}
  .invest{padding:32px 16px;margin:20px 0}
  .invest h2{font-size:22px}
  .invest p{font-size:14px}
  .invest-btns{flex-direction:column;align-items:center}
  .btn{width:100%;max-width:300px;justify-content:center}
  .quickstart{padding:20px 16px}
  .qs-text code{word-break:break-all}
  .foot-links{gap:16px}
  .orb{display:none}
  .theme-toggle{top:12px;right:12px;width:38px;height:38px}
}
</style>
</head>
<body>
<button class="theme-toggle" id="themeToggle" aria-label="Toggle theme" title="Theme: System"></button>
<div class="orb a"></div><div class="orb b"></div><div class="orb c"></div>

<!-- Hero -->
<section class="hero">
  <div class="fadeUp">
    <div class="badge">Showroom</div>
    <div class="logo">RUSH<span class="dot">.</span>SYNC<span class="dot">.</span>SERVER</div>
    <p class="hero-sub">High-performance reverse proxy and server manager written in pure Rust. Zero config, instant subdomains, built-in HTTPS.</p>
    <p class="hero-note">You requested <code>{{SUBDOMAIN}}.{{DOMAIN}}</code> &mdash; it's not live yet, but here's what Rush can do.</p>
  </div>

  <!-- Animated Terminal -->
  <div class="terminal fadeUp" style="animation-delay:.2s">
    <div class="term-bar">
      <div class="term-dot r"></div><div class="term-dot y"></div><div class="term-dot g"></div>
      <span class="term-title">rush-sync &mdash; terminal</span>
    </div>
    <div class="term-body" id="term"></div>
  </div>
</section>

<!-- Subdomain Panel -->
<section>
  <div class="showroom-panel fadeUp">
    <div class="host">{{SUBDOMAIN}}.{{DOMAIN}}</div>
    <br>
    <span class="status status-available"><span class="status-dot"></span> Available</span>
    <p>This subdomain is not yet configured. It can be instantly activated with a single command:<br><code>rush create {{SUBDOMAIN}}</code></p>
  </div>
</section>

<!-- Features -->
<section>
  <div class="section-title">
    <h2>Built for <span>Speed</span></h2>
    <p>Everything you need to deploy, manage, and scale web servers.</p>
  </div>
  <div class="features">
    <div class="feature">
      <span class="feature-icon">&#9889;</span>
      <h3>Instant Subdomains</h3>
      <p>Create a server and it's live at <strong>name.yourdomain.com</strong> in under a second. No DNS config, no waiting.</p>
    </div>
    <div class="feature">
      <span class="feature-icon">&#128274;</span>
      <h3>Auto HTTPS</h3>
      <p>TLS certificates are generated automatically. Let's Encrypt support for production. Zero configuration needed.</p>
    </div>
    <div class="feature">
      <span class="feature-icon">&#128640;</span>
      <h3>Reverse Proxy</h3>
      <p>Smart subdomain-based routing with health checks, connection pooling, and automatic failover.</p>
    </div>
    <div class="feature">
      <span class="feature-icon">&#9881;</span>
      <h3>Server Manager</h3>
      <p>Create, start, stop, restart servers from CLI or API. Full lifecycle management with auto-start support.</p>
    </div>
    <div class="feature">
      <span class="feature-icon">&#128225;</span>
      <h3>Real-time Sync</h3>
      <p>WebSocket-powered live file synchronization. Edit locally, see changes instantly on any connected device.</p>
    </div>
    <div class="feature">
      <span class="feature-icon">&#128230;</span>
      <h3>Docker Ready</h3>
      <p>Multi-stage Docker build. ~95 MB runtime image. Deploy anywhere with a single <code>docker compose up</code>.</p>
    </div>
  </div>
</section>

<!-- Architecture -->
<section>
  <div class="section-title">
    <h2>How It <span>Works</span></h2>
    <p>Subdomain-based routing with intelligent proxy layer.</p>
  </div>
  <div class="arch">
    <div class="arch-box arch-client">
      <div class="arch-title">Client</div>
      <div class="arch-desc">app.domain.com</div>
    </div>
    <div class="arch-arrow">&rarr;</div>
    <div class="arch-box arch-proxy">
      <div class="arch-title">Rush Proxy</div>
      <div class="arch-desc">Routes &amp; TLS</div>
    </div>
    <div class="arch-arrow">&rarr;</div>
    <div class="arch-box arch-server">
      <div class="arch-title">Backend</div>
      <div class="arch-desc">Port 8000+</div>
    </div>
  </div>
</section>

<!-- Stats -->
<section>
  <div class="section-title">
    <h2>By the <span>Numbers</span></h2>
    <p>Benchmarked on a single-core Docker container.</p>
  </div>
  <div class="stats">
    <div class="stat">
      <div class="stat-value" data-count="30">0</div>
      <div class="stat-label">MB Memory</div>
    </div>
    <div class="stat">
      <div class="stat-value" data-count="500" data-suffix="ms">&lt;500ms</div>
      <div class="stat-label">Startup Time</div>
    </div>
    <div class="stat">
      <div class="stat-value" data-count="10000" data-prefix="">0</div>
      <div class="stat-label">Concurrent Connections</div>
    </div>
    <div class="stat">
      <div class="stat-value" data-count="15000">0</div>
      <div class="stat-label">Lines of Rust</div>
    </div>
  </div>
</section>

<!-- Quick Start -->
<section>
  <div class="section-title">
    <h2>Get <span>Started</span></h2>
    <p>Up and running in under a minute.</p>
  </div>
  <div class="quickstart">
    <h3>Docker (Recommended)</h3>
    <div class="qs-step"><div class="qs-num">1</div><div class="qs-text">Clone: <code>git clone https://github.com/LEVOGNE/rush.sync.server</code></div></div>
    <div class="qs-step"><div class="qs-num">2</div><div class="qs-text">Configure: <code>cp .env.docker .env</code> and set your API key</div></div>
    <div class="qs-step"><div class="qs-num">3</div><div class="qs-text">Launch: <code>docker compose up -d</code></div></div>
    <div class="qs-step"><div class="qs-num">4</div><div class="qs-text">Done. Visit <code>default.yourdomain.com</code></div></div>
  </div>
  <div class="quickstart">
    <h3>Native (macOS / Linux)</h3>
    <div class="qs-step"><div class="qs-num">1</div><div class="qs-text">Install Rust: <code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></div></div>
    <div class="qs-step"><div class="qs-num">2</div><div class="qs-text">Build: <code>cargo build --release</code></div></div>
    <div class="qs-step"><div class="qs-num">3</div><div class="qs-text">Run: <code>./target/release/rush-sync</code></div></div>
  </div>
</section>

<!-- Active Routes -->
<section class="active-routes">
  {{ROUTES_HTML}}
</section>

<!-- Investor CTA -->
<section>
  <div class="invest">
    <h2>Invest in the <span>Future</span></h2>
    <p>Rush Sync Server is actively seeking investors and partners. Built with Rust for maximum performance and reliability. Open-source foundation with commercial licensing.</p>
    <div class="invest-btns">
      <a href="https://github.com/LEVOGNE/rush.sync.server" class="btn btn-primary">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
        GitHub
      </a>
      <a href="mailto:info@levogne.de?subject=Rush%20Sync%20Server%20—%20Investment%20Inquiry" class="btn btn-outline">Contact for Investment</a>
      <a href="http://default.{{DOMAIN}}{{PORT_SUFFIX}}/" class="btn btn-outline">View Landing Page</a>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="foot">
  <div class="foot-links">
    <a href="https://github.com/LEVOGNE/rush.sync.server">GitHub</a>
    <a href="http://default.{{DOMAIN}}{{PORT_SUFFIX}}/">Documentation</a>
    <a href="mailto:info@levogne.de">Contact</a>
  </div>
  <p>&copy; 2025 LEVOGNE. Licensed under GPLv3 &amp; Commercial License.</p>
  <p style="margin-top:6px">Powered by Rush Sync Server v0.3.8</p>
</footer>

<script>
// Animated terminal
const lines = [
  {type:'prompt',text:'$ '},
  {type:'cmd',text:'rush create {{SUBDOMAIN}}'},
  {type:'output',text:''},
  {type:'success',text:'  ✓ Server "{{SUBDOMAIN}}" created on port 8002'},
  {type:'output',text:''},
  {type:'prompt',text:'$ '},
  {type:'cmd',text:'rush start {{SUBDOMAIN}}'},
  {type:'output',text:''},
  {type:'success',text:'  ✓ Server "{{SUBDOMAIN}}" started'},
  {type:'success',text:'  ✓ Live at {{SUBDOMAIN}}.{{DOMAIN}}'},
  {type:'output',text:''},
  {type:'prompt',text:'$ '},
  {type:'cmd',text:'rush list'},
  {type:'output',text:''},
  {type:'output',text:'  NAME          PORT    STATUS'},
  {type:'output',text:'  ─────────────────────────────'},
  {type:'success',text:'  default       8000    ● Running'},
  {type:'success',text:'  {{SUBDOMAIN}}        8002    ● Running'},
  {type:'output',text:''},
  {type:'output',text:'  2 servers active'},
];

const term = document.getElementById('term');
let lineIndex = 0;
let charIndex = 0;
let currentEl = null;

function typeNext() {
  if (lineIndex >= lines.length) {
    // Pause then restart
    setTimeout(() => {
      term.innerHTML = '';
      lineIndex = 0;
      charIndex = 0;
      currentEl = null;
      typeNext();
    }, 4000);
    return;
  }

  const line = lines[lineIndex];

  if (!currentEl) {
    currentEl = document.createElement('div');
    currentEl.className = 'term-line';
    currentEl.style.animationDelay = '0s';
    term.appendChild(currentEl);

    if (line.type === 'prompt') {
      const promptSpan = document.createElement('span');
      promptSpan.className = 'prompt';
      promptSpan.textContent = line.text;
      currentEl.appendChild(promptSpan);
      // Move to next line item (the command)
      lineIndex++;
      if (lineIndex < lines.length) {
        charIndex = 0;
        typeNext();
      }
      return;
    }
  }

  if (line.type === 'cmd') {
    // Type character by character
    if (charIndex === 0) {
      const cmdSpan = document.createElement('span');
      cmdSpan.className = 'cmd';
      currentEl.appendChild(cmdSpan);
    }
    const cmdSpan = currentEl.querySelector('.cmd');
    if (charIndex < line.text.length) {
      cmdSpan.textContent = line.text.substring(0, charIndex + 1);
      charIndex++;
      setTimeout(typeNext, 40 + Math.random() * 30);
      return;
    }
    // Done typing command
    lineIndex++;
    charIndex = 0;
    currentEl = null;
    setTimeout(typeNext, 500);
    return;
  }

  // Output or success lines — appear instantly
  if (line.text === '') {
    currentEl.innerHTML = '&nbsp;';
  } else {
    const span = document.createElement('span');
    span.className = line.type;
    span.textContent = line.text;
    currentEl.appendChild(span);
  }
  lineIndex++;
  charIndex = 0;
  currentEl = null;
  setTimeout(typeNext, 80);
}

// Start terminal animation when visible
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      setTimeout(typeNext, 800);
      observer.disconnect();
    }
  });
});
observer.observe(term);

// Animated stat counters
const statValues = document.querySelectorAll('.stat-value[data-count]');
const countObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const el = entry.target;
      const target = parseInt(el.dataset.count);
      const suffix = el.dataset.suffix || '';
      const prefix = el.dataset.prefix !== undefined ? el.dataset.prefix : '';
      const duration = 2000;
      const start = performance.now();

      function update(now) {
        const elapsed = now - start;
        const progress = Math.min(elapsed / duration, 1);
        // Ease out cubic
        const eased = 1 - Math.pow(1 - progress, 3);
        const current = Math.round(target * eased);
        el.textContent = prefix + current.toLocaleString() + (suffix ? suffix : (target >= 1000 ? '+' : ''));
        if (progress < 1) requestAnimationFrame(update);
      }
      requestAnimationFrame(update);
      countObserver.unobserve(el);
    }
  });
}, {threshold: 0.5});
statValues.forEach(el => countObserver.observe(el));

// Fade-up on scroll for sections
const fadeEls = document.querySelectorAll('.feature, .stat, .quickstart, .showroom-panel, .invest');
const fadeObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.style.animation = 'fadeUp .5s ease-out both';
      fadeObserver.unobserve(entry.target);
    }
  });
}, {threshold: 0.1});
fadeEls.forEach(el => {
  el.style.opacity = '0';
  fadeObserver.observe(el);
});

// Theme toggle
(function(){
    var t=document.getElementById('themeToggle');
    var modes=['system','dark','light'];
    var icons={
        system:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>',
        dark:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>',
        light:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>'
    };
    function sys(){return window.matchMedia('(prefers-color-scheme:light)').matches?'light':'dark'}
    function apply(m){
        var eff=m==='system'?sys():m;
        document.documentElement.setAttribute('data-theme',eff);
        localStorage.setItem('rss-theme',m);
        t.innerHTML=icons[m];
        t.title='Theme: '+m.charAt(0).toUpperCase()+m.slice(1);
    }
    apply(localStorage.getItem('rss-theme')||'system');
    t.addEventListener('click',function(){
        var c=localStorage.getItem('rss-theme')||'system';
        apply(modes[(modes.indexOf(c)+1)%modes.length]);
    });
    window.matchMedia('(prefers-color-scheme:light)').addEventListener('change',function(){
        if((localStorage.getItem('rss-theme')||'system')==='system')apply('system');
    });
})();
</script>
</body></html>
